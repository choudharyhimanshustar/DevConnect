{"version":3,"file":"use-observable.mjs","sources":["../../src/utils/use-observable.ts"],"sourcesContent":["import type { Observable } from \"@liveblocks/core\";\nimport { useEffect } from \"react\";\n\nimport { useLatest } from \"./use-latest\";\n\nexport function useObservable<T>(\n  observable: Observable<T>,\n  callback: () => void\n) {\n  const latestCallback = useLatest(callback);\n\n  useEffect(() => {\n    const unsubscribe = observable.subscribe(() => latestCallback.current());\n\n    return unsubscribe;\n  }, [observable, latestCallback]);\n}\n"],"names":[],"mappings":";;;AAKgB,SAAA,aAAA,CACd,YACA,QACA,EAAA;AACA,EAAM,MAAA,cAAA,GAAiB,UAAU,QAAQ,CAAA,CAAA;AAEzC,EAAA,SAAA,CAAU,MAAM;AACd,IAAA,MAAM,cAAc,UAAW,CAAA,SAAA,CAAU,MAAM,cAAA,CAAe,SAAS,CAAA,CAAA;AAEvE,IAAO,OAAA,WAAA,CAAA;AAAA,GACN,EAAA,CAAC,UAAY,EAAA,cAAc,CAAC,CAAA,CAAA;AACjC;;;;"}